{"version":3,"sources":["socket.js","components/ChatItem.js","components/NameModal.js","components/UsersPopper.js","components/ChatRoom.js","components/App.js","index.js"],"names":["io","require","socket","connect","message","data","emit","messageEvent","handleMessage","on","userCount","handleUsers","addUser","ChatItem","_this$props$entry","this","props","entry","username","avatar","classes","react_default","a","createElement","ListItem_default","alignItems","ListItemAvatar_default","Avatar_default","className","alt","src","ListItemText_default","primary","Fragment","Typography_default","typography","component","color","renderedItem","Component","withStyles","fontWeight","width","height","NameModal","state","input","openModal","handleClose","_this","setState","setUser","onInputChange","event","target","value","_this2","Dialog_default","open","disableEscapeKeyDown","aria-labelledby","DialogTitle_default","id","DialogContent_default","DialogContentText_default","TextField_default","autoFocus","margin","label","type","onChange","fullWidth","onKeyPress","e","key","preventDefault","UsersPopper","anchorEl","handleClick","currentTarget","renderUsers","_this$props","users","i","map","user","_this$props2","Boolean","span","onClick","length","People_default","people","Popover_default","onClose","anchorOrigin","vertical","horizontal","transformOrigin","transitionDuration","enter","exit","cursor","fontSize","position","top","ChatRoom","chatHistory","userName","faker","internet","panel","React","createRef","concat","onSendMessage","sendMessage","addChatMessage","setUserName","scrollChatToBottom","document","getElementById","scrollTop","scrollHeight","components_ChatItem","textField","autoComplete","multiline","rows","variant","div_center","List_default","list","renderedList","renderedChatBox","components_UsersPopper","components_NameModal","marginRight","marginLeft","minHeight","maxWidth","backgroundColor","overflow","padding","border","marginTop","App","client","CssBaseline_default","style","justifyContent","components_ChatRoom","ReactDOM","render","components_App"],"mappings":"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","file":"static/js/main.ac765db6.chunk.js","sourcesContent":["const io = require(\"socket.io-client\");\n\nexport default function() {\n  //use io.connect(http://localhost:3001) for local testing\n  const socket = io.connect();\n\n  function message(data) {\n    socket.emit(\"message\", data);\n  }\n\n  function messageEvent(handleMessage) {\n    socket.on(\"message\", handleMessage);\n  }\n\n  function userCount(handleUsers) {\n    socket.on(\"users\", handleUsers);\n  }\n\n  function addUser(data) {\n    socket.emit(\"add user\", data);\n  }\n\n  return {\n    message,\n    messageEvent,\n    userCount,\n    addUser\n  };\n}\n","import React, { Component } from \"react\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = () => ({\n  typography: {\n    fontWeight: \"800\"\n  },\n  avatar: {\n    width: \"54px\",\n    height: \"54px\"\n  }\n});\n\nclass ChatItem extends Component {\n  renderedItem() {\n    const { username, message, avatar } = this.props.entry;\n    const { classes } = this.props;\n\n    return (\n      <ListItem alignItems=\"flex-start\">\n        <ListItemAvatar>\n          <Avatar className={classes.avatar} alt=\"Faker avatar\" src={avatar} />\n        </ListItemAvatar>\n        <ListItemText\n          primary={\n            <React.Fragment>\n              <Typography\n                className={classes.typography}\n                component=\"span\"\n                color=\"textPrimary\"\n              >\n                {username}\n              </Typography>\n              {message}\n            </React.Fragment>\n          }\n        />\n      </ListItem>\n    );\n  }\n\n  render() {\n    return this.renderedItem();\n  }\n}\n\nexport default withStyles(styles)(ChatItem);\n","import React, { Component } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nclass NameModal extends Component {\n  state = { input: \"\", openModal: true };\n\n  handleClose = () => {\n    this.setState({ openModal: false });\n  };\n\n  addUser = () => {\n    this.props.addUser(this.state.input);\n    this.props.setUser(this.state.input);\n    this.handleClose();\n  };\n\n  onInputChange = event => {\n    this.setState({ input: event.target.value });\n  };\n\n  render() {\n    return (\n      <div>\n        <Dialog\n          open={this.state.openModal}\n          disableEscapeKeyDown={true}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <DialogTitle id=\"form-dialog-title\">Welcome</DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              To participate in this chat please enter a nickname.\n            </DialogContentText>\n            <TextField\n              autoFocus\n              margin=\"dense\"\n              id=\"name\"\n              label=\"Enter a nickname\"\n              type=\"name\"\n              value={this.state.input}\n              onChange={this.onInputChange}\n              fullWidth\n              onKeyPress={e =>\n                e.key === \"Enter\" ? (e.preventDefault(), this.addUser()) : null\n              }\n            />\n          </DialogContent>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nexport default NameModal;\n","import React, { Component } from \"react\";\nimport People from \"@material-ui/icons/People\";\nimport Popover from \"@material-ui/core/Popover\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = () => ({\n  typography: {\n    margin: \"10px\"\n  },\n  span: {\n    cursor: \"pointer\",\n    fontSize: \"20px\"\n  },\n  people: {\n    position: \"relative\",\n    top: \"5px\",\n    fontSize: \"26px\"\n  }\n});\n\nclass UsersPopper extends Component {\n  state = { anchorEl: null };\n\n  handleClose = () => {\n    this.setState({ anchorEl: null });\n  };\n\n  handleClick = event => {\n    this.setState({ anchorEl: event.currentTarget });\n  };\n\n  renderUsers = () => {\n    const { users, classes } = this.props;\n    let i = 0;\n\n    return users.map(user => {\n      i++;\n      return (\n        <Typography key={i} className={classes.typography}>\n          {user}\n        </Typography>\n      );\n    });\n  };\n\n  render() {\n    const { anchorEl } = this.state;\n    const { users, classes } = this.props;\n    const open = Boolean(anchorEl);\n\n    return (\n      <div>\n        <span className={classes.span} onClick={this.handleClick}>\n          {users.length}\n          <People className={classes.people} />\n        </span>\n\n        <Popover\n          open={open}\n          onClose={this.handleClose}\n          anchorEl={anchorEl}\n          anchorOrigin={{\n            vertical: \"top\",\n            horizontal: \"right\"\n          }}\n          transformOrigin={{\n            vertical: \"top\",\n            horizontal: \"left\"\n          }}\n          transitionDuration={{ enter: 500, exit: 300 }}\n        >\n          <Typography className={classes.typography}>\n            Users Connected:\n          </Typography>\n          {this.renderUsers()}\n        </Popover>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(UsersPopper);\n","import React, { Component } from \"react\";\nimport List from \"@material-ui/core/List\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport faker from \"faker\";\nimport ChatItem from \"./ChatItem\";\nimport NameModal from \"./NameModal\";\nimport UsersPopper from \"./UsersPopper\";\n\nconst styles = () => ({\n  div_center: {\n    margin: \"0px\",\n    marginRight: \"auto\",\n    marginLeft: \"auto\",\n    width: \"404px\",\n    height: \"100%\",\n    minHeight: \"100%\"\n  },\n  list: {\n    width: \"100%\",\n    maxWidth: 400,\n    backgroundColor: \"grey\",\n    position: \"relative\",\n    overflow: \"auto\",\n    height: \"75%\",\n    padding: \"0\",\n    margin: \"0\",\n    border: \"2px solid\"\n  },\n  textField: {\n    width: \"100%\",\n    maxWidth: 404,\n    height: \"20%\",\n    padding: \"0px\",\n    marginTop: \"10px\"\n  },\n  users: {\n    height: \"5%\",\n    padding: \"0px\",\n    margin: \"0px\"\n  }\n});\n\nclass ChatRoom extends Component {\n  state = {\n    chatHistory: [],\n    input: \"\",\n    userName: \"\",\n    users: [],\n    avatar: faker.internet.avatar()\n  };\n\n  panel = React.createRef();\n\n  componentDidMount() {\n    this.props.messageEvent(this.handleMessage);\n    this.props.userCount(this.handleUsers);\n  }\n  componentDidUpdate() {\n    this.scrollChatToBottom();\n  }\n\n  handleMessage = entry => {\n    this.setState({ chatHistory: this.state.chatHistory.concat(entry) });\n  };\n\n  handleUsers = entry => {\n    this.setState({ users: entry });\n  };\n\n  onInputChange = event => {\n    this.setState({ input: event.target.value });\n  };\n\n  onSendMessage = () => {\n    if (!this.state.input) {\n      return;\n    }\n\n    this.props.sendMessage({\n      message: this.state.input,\n      avatar: this.state.avatar\n    });\n    this.addChatMessage({\n      username: this.state.userName,\n      message: this.state.input,\n      avatar: this.state.avatar\n    });\n    this.setState({ input: \"\" });\n  };\n\n  addChatMessage = entry => {\n    this.setState({\n      chatHistory: this.state.chatHistory.concat(entry)\n    });\n  };\n\n  setUserName = userName => {\n    this.setState({ userName });\n  };\n\n  scrollChatToBottom = () => {\n    const panel = document.getElementById(\"scroll\");\n\n    panel.scrollTop = panel.scrollHeight;\n  };\n\n  renderedList() {\n    let i = 0;\n    return this.state.chatHistory.map(entry => {\n      i++;\n      return <ChatItem key={i} entry={entry} />;\n    });\n  }\n\n  renderedChatBox() {\n    const { classes } = this.props;\n\n    return (\n      <TextField\n        className={classes.textField}\n        autoComplete=\"off\"\n        label=\"Type a message\"\n        multiline\n        rows=\"4\"\n        variant=\"outlined\"\n        onChange={this.onInputChange}\n        value={this.state.input}\n        onKeyPress={e =>\n          e.key === \"Enter\" ? (e.preventDefault(), this.onSendMessage()) : null\n        }\n      />\n    );\n  }\n\n  render() {\n    const { classes, addUser } = this.props;\n\n    return (\n      <div className={classes.div_center}>\n        <List id=\"scroll\" className={classes.list}>\n          {this.renderedList()}\n        </List>\n        <form>{this.renderedChatBox()}</form>\n        <div className={classes.users}>\n          <UsersPopper users={this.state.users} />\n          <NameModal addUser={addUser} setUser={this.setUserName} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(ChatRoom);\n","import React, { Component } from \"react\";\nimport socket from \"../socket\";\nimport ChatRoom from \"./ChatRoom\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nclass App extends Component {\n  state = { client: socket() };\n\n  render() {\n    return (\n      <React.Fragment>\n        <CssBaseline />\n        <div\n          className=\"App\"\n          style={{\n            height: \"100%\",\n            justifyContent: \"center\",\n            margin: \"0px\",\n            padding: \"0px\"\n          }}\n        >\n          <ChatRoom\n            messageEvent={this.state.client.messageEvent}\n            userCount={this.state.client.userCount}\n            sendMessage={this.state.client.message}\n            addUser={this.state.client.addUser}\n          />\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}